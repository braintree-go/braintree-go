language: go
matrix:
  include:
  - go: 1.3
  - go: 1.4
  - go: 1.5
  - go: 1.6
  - go: 1.7
  - go: 1.8
    env: ERRCHECK=true
  - go: tip

go_import_path: github.com/lionelbarrow/braintree-go

install:
  - if [ -n "$ERRCHECK" ] ; then go get -u github.com/kisielk/errcheck ; fi

script:
  - source .default.env
  - go vet ./...
  - if [ -n "$ERRCHECK" ] ; then CGO_ENABLED=0 errcheck ./... ; else echo "Skipping errcheck" ; fi
  - go test -parallel 15 -v ./...
